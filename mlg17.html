<!DOCTYPE html><html><head><title>Krobb's Body Parts with Numbered Joints</title><style>*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;background:#fff;display:flex;justify-content:center;align-items:center;overflow:hidden}#container{width:100vw;height:auto;max-width:100vw;border:4px solid black;display:flex;justify-content:center;align-items:center;transform:translateY(45vh)}canvas{width:100%;height:auto}</style></head><body><div id="container"><img id="bodyImage" src="images/body.png" style="display:none"/><img id="leftEarImage" src="images/ear.png" style="display:none"/><img id="rightEarImage" src="images/ear.png" style="display:none"/><img id="headImage" src="images/head.png" style="display:none"/><img id="mouthImage" src="images/grimace.png" style="display:none"/><img id="leftArmImage" src="images/arm.png" style="display:none"/><img id="rightArmImage" src="images/arm.png" style="display:none"/><canvas id="myCanvas"></canvas></div><script>const bodyImg=document.getElementById('bodyImage'),leftEarImg=document.getElementById('leftEarImage'),rightEarImg=document.getElementById('rightEarImage'),headImg=document.getElementById('headImage'),mouthImg=document.getElementById('mouthImage'),leftArmImg=document.getElementById('leftArmImage'),rightArmImg=document.getElementById('rightArmImage'),canvas=document.getElementById('myCanvas'),ctx=canvas.getContext('2d'),leftEarCentroids=[],rightEarCentroids=[];function processBodyPart(img,x,y,arr){ctx.drawImage(img,x,y);const d=ctx.getImageData(x,y,img.width,img.height).data,p=[];for(let j=0;j<img.height;j++)for(let i=0;i<img.width;i++){const k=(j*img.width+i)*4;if(d[k]===255&&d[k+1]===0&&d[k+2]===255&&d[k+3]!==0)p.push({x:i+x,y:j+y})}const cx=Math.floor(p.reduce((a,b)=>a+b.x,0)/p.length),cy=Math.floor(p.reduce((a,b)=>a+b.y,0)/p.length);arr.push({x:cx,y:cy})}function animateEar(img,c,angle,flip=false){ctx.save();flip?(ctx.translate(canvas.width,0),ctx.scale(-1,1),ctx.translate(-c.x,c.y)):ctx.translate(c.x,c.y);ctx.rotate(angle*Math.PI/180);ctx.translate(-c.x,-c.y);ctx.drawImage(img,0,0);ctx.restore()}function loadImages(){const imgs=[bodyImg,leftEarImg,rightEarImg,headImg,mouthImg,leftArmImg,rightArmImg];let loaded=0;imgs.forEach(img=>{img.onload=()=>{if(++loaded===imgs.length){canvas.width=Math.max(...imgs.map(i=>i.width));canvas.height=Math.max(...imgs.map(i=>i.height));processBodyPart(leftEarImg,0,0,leftEarCentroids);processBodyPart(rightEarImg,0,0,rightEarCentroids);let angle=0;setInterval(()=>{ctx.clearRect(0,0,canvas.width,canvas.height);ctx.drawImage(leftArmImg,0,0);ctx.drawImage(bodyImg,0,0);ctx.drawImage(rightArmImg,0,0);animateEar(leftEarImg,leftEarCentroids[0],angle);animateEar(rightEarImg,rightEarCentroids[0],angle,true);ctx.drawImage(headImg,0,0);ctx.drawImage(mouthImg,0,0);angle+=5;if(angle>=30)clearInterval(interval)},50)}};img.onerror=()=>console.error(`Failed to load image: ${img.src}`)})}loadImages();</script></body></html>